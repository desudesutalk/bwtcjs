var bwtc=function(){"use strict";var e=function(){var e=-1,t=function(){};return t.prototype.readByte=function(){var t=[0],r=this.read(t,0,1);return 0===r?(this._eof=!0,e):t[0]},t.prototype.read=function(t,r,o){for(var i,s=0;s<o;){if(i=this.readByte(),i===e){this._eof=!0;break}t[r+s++]=i}return s},t.prototype.eof=function(){return!!this._eof},t.prototype.seek=function(){throw new Error("Stream is not seekable.")},t.prototype.tell=function(){throw new Error("Stream is not seekable.")},t.prototype.writeByte=function(e){var t=[e];this.write(t,0,1)},t.prototype.write=function(e,t,r){var o;for(o=0;o<r;o++)this.writeByte(e[t+o]);return r},t.prototype.flush=function(){},t.EOF=e,Object.freeze(t)}(),t=function(){var t=Object.create(null),r=e.EOF;t.coerceInputStream=function(t,o){if("readByte"in t){if(o&&!("read"in t)){var i=t;t=new e,t.readByte=function(){var e=i.readByte();return e===r&&(this._eof=!0),e},"size"in i&&(t.size=i.size),"seek"in i&&(t.seek=function(e){i.seek(e),this._eof=!1}),"tell"in i&&(t.tell=i.tell.bind(i))}}else{var s=t;t=new e,t.size=s.length,t.pos=0,t.readByte=function(){return this.pos>=this.size?r:s[this.pos++]},t.read=function(e,t,r){for(var o=0;o<r&&this.pos<s.length;)e[t++]=s[this.pos++],o++;return o},t.seek=function(e){this.pos=e},t.tell=function(){return this.pos},t.eof=function(){return this.pos>=s.length}}return t};var o=function(e,t){this.buffer=e,this.resizeOk=t,this.pos=0};o.prototype=Object.create(e.prototype),o.prototype.writeByte=function(e){if(this.resizeOk&&this.pos>=this.buffer.length){var r=t.makeU8Buffer(2*this.buffer.length);r.set(this.buffer),this.buffer=r}this.buffer[this.pos++]=e},o.prototype.getBuffer=function(){if(this.pos!==this.buffer.length){if(!this.resizeOk)throw new TypeError("outputsize does not match decoded input");var e=t.makeU8Buffer(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t.coerceOutputStream=function(e,r){var i={stream:e,retval:e};if(e){if("object"==typeof e&&"writeByte"in e)return i;"number"==typeof r?(console.assert(r>=0),i.stream=new o(t.makeU8Buffer(r),(!1))):i.stream=new o(e,(!1))}else i.stream=new o(t.makeU8Buffer(16384),(!0));return Object.defineProperty(i,"retval",{get:i.stream.getBuffer.bind(i.stream)}),i},t.compressFileHelper=function(e){return function(r,o,i){r=t.coerceInputStream(r);var s=t.coerceOutputStream(o,o);o=s.stream;var n,f;f="size"in r&&r.size>=0?r.size:-1;var h=t.coerceOutputStream([]);for(t.writeUnsignedNumber(h.stream,f+1),h=h.retval,n=0;n<h.length-1;n++)o.writeByte(h[n]);var a=h[h.length-1];return e(r,o,f,i,a),s.retval}},t.decompressFileHelper=function(e){return function(r,o){r=t.coerceInputStream(r);var i=t.readUnsignedNumber(r)-1,s=t.coerceOutputStream(o,i);return o=s.stream,e(r,o,i),s.retval}},t.writeUnsignedNumber=function(e,t){console.assert(t>=0);var r,o=[];do o.push(127&t),t=Math.floor(t/128);while(0!==t);for(o[0]|=128,r=o.length-1;r>=0;r--)e.writeByte(o[r]);return e},t.readUnsignedNumber=function(e){for(var t,r=0;;){if(t=e.readByte(),128&t){r+=127&t;break}r=128*(r+t)}return r},t.makeU8Buffer=function(e){return new Uint8Array(e)},t.makeU16Buffer=function(e){return new Uint16Array(e)},t.makeU32Buffer=function(e){return new Uint32Array(e)},t.makeS32Buffer=function(e){return new Int32Array(e)};var i=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];console.assert(256===i.length);var s=t.fls=function(e){return console.assert(e>=0),e>4294967295?32+s(Math.floor(e/4294967296)):0!==(4294901760&e)?0!==(4278190080&e)?24+i[e>>>24&255]:16+i[e>>>16]:0!==(65280&e)?8+i[e>>>8]:i[e]};return Object.freeze(t)}(),r=function(){var e=console.assert.bind(console),r=function(e,t,r,o){var i;for(i=0;i<o;i++)t[i]=0;for(i=0;i<r;i++)t[e[i]]++},o=function(e,t,r,o){var i,s=0;if(o)for(i=0;i<r;i++)s+=e[i],t[i]=s;else for(i=0;i<r;i++)s+=e[i],t[i]=s-e[i]},i=function(t,i,s,n,f,h){var a,u,c,d,p;for(s===n&&r(t,s,f,h),o(s,n,h,!1),c=f-1,a=n[p=t[c]],c--,i[a++]=t[c]<p?~c:c,u=0;u<f;u++)(c=i[u])>0?(e(t[c]>=t[c+1]),(d=t[c])!==p&&(n[p]=a,a=n[p=d]),e(u<a),c--,i[a++]=t[c]<p?~c:c,i[u]=0):c<0&&(i[u]=~c);for(s===n&&r(t,s,f,h),o(s,n,h,1),u=f-1,a=n[p=0];u>=0;u--)(c=i[u])>0&&(e(t[c]<=t[c+1]),(d=t[c])!==p&&(n[p]=a,a=n[p=d]),e(a<=u),c--,i[--a]=t[c]>p?~(c+1):c,i[u]=0)},s=function(t,r,o,i){var s,n,f,h,a,u,c,d,p,l;for(e(o>0),s=0;(f=r[s])<0;s++)r[s]=~f,e(s+1<o);if(s<i)for(n=s,s++;e(s<o),!((f=r[s])<0&&(r[n++]=~f,r[s]=0,n===i));s++);d=t[s=n=o-1];do p=d;while(--s>=0&&(d=t[s])>=p);for(;s>=0;){do p=d;while(--s>=0&&(d=t[s])<=p);if(s>=0){r[i+(s+1>>>1)]=n-s,n=s+1;do p=d;while(--s>=0&&(d=t[s])>=p)}}for(s=0,c=0,h=o,u=0;s<i;s++){if(f=r[s],a=r[i+(f>>>1)],l=!0,a===u&&h+a<o){for(n=0;n<a&&t[f+n]===t[h+n];)n++;n===a&&(l=!1)}l&&(c++,h=f,u=a),r[i+(f>>>1)]=c}return c},n=function(t,i,s,n,f,h){var a,u,c,d,p;for(s===n&&r(t,s,f,h),o(s,n,h,!1),c=f-1,a=n[p=t[c]],i[a++]=c>0&&t[c-1]<p?~c:c,u=0;u<f;u++)c=i[u],i[u]=~c,c>0&&(c--,e(t[c]>=t[c+1]),(d=t[c])!==p&&(n[p]=a,a=n[p=d]),e(u<a),i[a++]=c>0&&t[c-1]<p?~c:c);for(s===n&&r(t,s,f,h),o(s,n,h,!0),u=f-1,a=n[p=0];u>=0;u--)(c=i[u])>0?(c--,e(t[c]<=t[c+1]),(d=t[c])!==p&&(n[p]=a,a=n[p=d]),e(a<=u),i[--a]=0===c||t[c-1]>p?~c:c):i[u]=~c},f=function(t,i,s,n,f,h){var a,u,c,d,p,l=-1;for(s===n&&r(t,s,f,h),o(s,n,h,!1),c=f-1,a=n[p=t[c]],i[a++]=c>0&&t[c-1]<p?~c:c,u=0;u<f;u++)(c=i[u])>0?(c--,e(t[c]>=t[c+1]),i[u]=~(d=t[c]),d!==p&&(n[p]=a,a=n[p=d]),e(u<a),i[a++]=c>0&&t[c-1]<p?~c:c):0!==c&&(i[u]=~c);for(s===n&&r(t,s,f,h),o(s,n,h,!0),u=f-1,a=n[p=0];u>=0;u--)(c=i[u])>0?(c--,e(t[c]<=t[c+1]),i[u]=d=t[c],d!==p&&(n[p]=a,a=n[p=d]),e(a<=u),i[--a]=c>0&&t[c-1]>p?~t[c-1]:c):0!==c?i[u]=~c:l=u;return l},h=function(a,u,c,d,p,l){var m,y,v,b,w,B,S,g,E,k,_,U,T,F=0,M=0;for(p<=256?(m=t.makeS32Buffer(p),p<=c?(y=u.subarray(d+c-p),M=1):(y=t.makeS32Buffer(p),M=3)):p<=c?(m=u.subarray(d+c-p),p<=c-p?(y=u.subarray(d+c-2*p),M=0):p<=1024?(y=t.makeS32Buffer(p),M=2):(y=m,M=8)):(m=y=t.makeS32Buffer(p),M=12),r(a,m,d,p),o(m,y,p,!0),b=0;b<d;b++)u[b]=0;B=-1,b=d-1,w=d,S=0,U=a[d-1];do T=U;while(--b>=0&&(U=a[b])>=T);for(;b>=0;){do T=U;while(--b>=0&&(U=a[b])<=T);if(b>=0){B>=0&&(u[B]=w),B=--y[T],w=b,++S;do T=U;while(--b>=0&&(U=a[b])>=T)}}if(S>1?(i(a,u,m,y,d,p),k=s(a,u,d,S)):1===S?(u[B]=w+1,k=1):k=0,k<S){for(0!==(4&M)&&(m=null,y=null),0!==(2&M)&&(y=null),_=d+c-2*S,0===(13&M)&&(p+k<=_?_-=p:M|=8),e(d>>>1<=_+S),b=S+(d>>>1)-1,w=2*S+_-1;S<=b;b--)0!==u[b]&&(u[w--]=u[b]-1);v=u.subarray(S+_),h(v,u,_,S,k,!1),v=null,b=d-1,w=2*S-1,U=a[d-1];do T=U;while(--b>=0&&(U=a[b])>=T);for(;b>=0;){do T=U;while(--b>=0&&(U=a[b])<=T);if(b>=0){u[w--]=b+1;do T=U;while(--b>=0&&(U=a[b])>=T)}}for(b=0;b<S;b++)u[b]=u[S+u[b]];0!==(4&M)&&(m=y=t.makeS32Buffer(p)),0!==(2&M)&&(y=t.makeS32Buffer(p))}if(0!==(8&M)&&r(a,m,d,p),S>1){o(m,y,p,!0),b=S-1,w=d,g=u[S-1],T=a[g];do{for(E=y[U=T];E<w;)u[--w]=0;do{if(u[--w]=g,--b<0)break;g=u[b]}while((T=a[g])===U)}while(b>=0);for(;w>0;)u[--w]=0}return l?F=f(a,u,m,y,d,p):n(a,u,m,y,d,p),m=null,y=null,F},a=Object.create(null);return a.suffixsort=function(t,r,o,i){if(e(t&&r&&t.length>=o&&r.length>=o),o<=1)return 1===o&&(r[0]=0),0;if(!i)if(1===t.BYTES_PER_ELEMENT)i=256;else{if(2!==t.BYTES_PER_ELEMENT)throw new Error("Need to specify alphabetSize");i=65536}return e(i>0),t.BYTES_PER_ELEMENT&&e(i<=1<<8*t.BYTES_PER_ELEMENT),h(t,r,0,o,i,!1)},a.bwtransform=function(t,r,o,i,s){var n,f;if(e(t&&r&&o),e(t.length>=i&&r.length>=i&&o.length>=i),i<=1)return 1===i&&(r[0]=t[0]),i;if(!s)if(1===t.BYTES_PER_ELEMENT)s=256;else{if(2!==t.BYTES_PER_ELEMENT)throw new Error("Need to specify alphabetSize");s=65536}for(e(s>0),t.BYTES_PER_ELEMENT&&e(s<=1<<8*t.BYTES_PER_ELEMENT),f=h(t,o,0,i,s,!0),r[0]=t[i-1],n=0;n<f;n++)r[n+1]=o[n];for(n+=1;n<i;n++)r[n]=o[n];return f+1},a.unbwtransform=function(e,r,o,i,s){var n,f,h=t.makeU32Buffer(256);for(n=0;n<256;n++)h[n]=0;for(n=0;n<i;n++)o[n]=h[e[n]]++;for(n=0,f=0;n<256;n++)f+=h[n],h[n]=f-h[n];for(n=i-1,f=0;n>=0;n--)f=o[f]+h[r[n]=e[f]],f+=f<s?1:0;h=null},Object.freeze(a)}(),o=function(){var e=32,t=Math.pow(2,e-1),r=e-9,o=(e-2)%8+1,i=t>>>8,s=Math.pow(2,e)-1,n=function(e){this.low=0,this.range=t,this.buffer=0,this.help=0,this.bytecount=0,this.stream=e},f=function(e,o){for(;e.range<=i;){if(e.low<255<<r){for(o.writeByte(e.buffer);e.help;e.help--)o.writeByte(255);e.buffer=e.low>>>r&255}else if(e.low&t){for(o.writeByte(e.buffer+1);e.help;e.help--)o.writeByte(0);e.buffer=e.low>>>r&255}else if(e.help++,e.help>s)throw new Error("Too many bytes outstanding, file too large!");e.range=e.range<<8>>>0,e.low=(e.low<<8&t-1)>>>0,e.bytecount++}};n.prototype.encodeStart=function(e,r){this.low=0,this.range=t,this.buffer=e,this.help=0,this.bytecount=r},n.prototype.encodeFreq=function(e,t,r){f(this,this.stream);var o=this.range/r>>>0,i=o*t;this.low+=i,t+e<r?this.range=o*e:this.range-=i},n.prototype.encodeShift=function(e,t,r){f(this,this.stream);var o=this.range>>>r,i=o*t;this.low+=i,t+e>>>r?this.range-=i:this.range=o*e},n.prototype.encodeBit=function(e){this.encodeShift(1,e?1:0,1)},n.prototype.encodeByte=function(e){this.encodeShift(1,e,8)},n.prototype.encodeShort=function(e){this.encodeShift(1,e,16)},n.prototype.encodeFinish=function(){var e=this.stream;f(this,e),this.bytecount+=5;var t=this.low>>>r;if((this.low&i-1)>=(16777215&this.bytecount)>>>1&&t++,t>255)for(e.writeByte(this.buffer+1);this.help;this.help--)e.writeByte(0);else for(e.writeByte(this.buffer);this.help;this.help--)e.writeByte(255);return e.writeByte(255&t),e.writeByte(this.bytecount>>>16&255),e.writeByte(this.bytecount>>>8&255),e.writeByte(255&this.bytecount),this.bytecount},n.prototype.decodeStart=function(e){var t=e?0:this.stream.readByte();return"number"!=typeof t||t<0?t:(this.buffer=this.stream.readByte(),this.low=this.buffer>>>8-o,this.range=1<<o,t)};var h=function(e,t){for(;e.range<=i;)e.low=e.low<<8|e.buffer<<o&255,e.buffer=t.readByte(),e.low|=e.buffer>>>8-o,e.low=e.low>>>0,e.range=e.range<<8>>>0};return n.prototype.decodeCulFreq=function(e){h(this,this.stream),this.help=this.range/e>>>0;var t=this.low/this.help>>>0;return t>=e?e-1:t},n.prototype.decodeCulShift=function(e){h(this,this.stream),this.help=this.range>>>e;var t=this.low/this.help>>>0;return t>>>e?(1<<e)-1:t},n.prototype.decodeUpdate=function(e,t,r){var o=this.help*t;this.low-=o,t+e<r?this.range=this.help*e:this.range-=o},n.prototype.decodeBit=function(){var e=this.decodeCulShift(1);return this.decodeUpdate(1,e,2),e},n.prototype.decodeByte=function(){var e=this.decodeCulShift(8);return this.decodeUpdate(1,e,256),e},n.prototype.decodeShort=function(){var e=this.decodeCulShift(16);return this.decodeUpdate(1,e,65536),e},n.prototype.decodeFinish=function(){h(this,this.stream)},n.prototype.writeBit=n.prototype.encodeBit,n.prototype.readBit=n.prototype.decodeBit,n.prototype.writeByte=n.prototype.encodeByte,n.prototype.readByte=n.prototype.decodeByte,n}(),i=function(){var e=8,r=1<<e,o=40,i=function(e,o,i){var s;console.assert(o<300);var n=this.numSyms=o;for(this.coder=e,this.prob=t.makeU16Buffer(o+2),this.escape=t.makeU16Buffer(o+1),this.update=t.makeU16Buffer(o+1),this.prob[n+1]=r,s=0;s<=this.numSyms;s++)this.escape[s]=s;if(this.updateCount=0,this.updateThresh=r-Math.floor(r/2),i){for(this.probToSym=t.makeU16Buffer(r),this.escProbToSym=t.makeU16Buffer(this.numSyms),s=0;s<r;s++)this.probToSym[s]=n;for(s=0;s<this.numSyms;s++)this.escProbToSym[s]=s}};return i.factory=function(e,t){return function(r){return new i(e,r,t)}},i.prototype._update=function(e,t){if(e===this.numSyms){if(this.update[e]>=o)return;if(this.updateCount>=this.updateThresh-1)return}if(this.update[e]++,this.updateCount++,!(this.updateCount<this.updateThresh)){var i,s,n,f,h,a;for(this.escape[0]=this.prob[0]=i=s=n=0,f=0;f<this.numSyms+1;f++){var u=(this.prob[f+1]-this.prob[f]>>>1)+this.update[f];u?(this.prob[f]=i,i+=u,1&u&&n++,this.escape[f]=s):(this.prob[f]=i,this.escape[f]=s,s++)}for(this.prob[f]=i,console.assert(i===r),this.updateThresh=r-Math.floor((i-n)/2),f=0;f<this.numSyms+1;f++)this.update[f]=0;if(this.update[this.numSyms]=1,this.updateCount=1,t)for(f=0,h=0,a=0;f<this.numSyms+1;f++){for(var c=this.prob[f+1];h<c;h++)this.probToSym[h]=f;for(var d=this.escape[f+1];a<d;a++)this.escProbToSym[a]=f}}},i.prototype.encode=function(t){var o=this.prob[t],i=this.prob[t+1]-o;if(console.assert(this.prob[this.numSyms+1]===r),i)return this.coder.encodeShift(i,o,e),this._update(t);console.assert(t!==this.numSyms),this.encode(this.numSyms),o=this.escape[t],i=this.escape[t+1]-o;var s=this.escape[this.numSyms];return this.coder.encodeFreq(i,o,s),this._update(t)},i.prototype.decode=function(){var t=this.coder.decodeCulShift(e),o=this.probToSym[t],i=this.prob[o],s=this.prob[o+1]-i;if(this.coder.decodeUpdate(s,i,r),this._update(o,!0),o!==this.numSyms)return o;var n=this.escape[this.numSyms];return t=this.coder.decodeCulFreq(n),o=this.escProbToSym[t],i=this.escape[o],s=this.escape[o+1]-i,this.coder.decodeUpdate(s,i,n),this._update(o,!0),o},i}(),s=function(){var e=65280,r=256,o=65535,i=0,s=4294901760,n=16,f=4294901758,h=function(o,s,f,h){this.coder=o,this.numSyms=s+1,this.tree=t.makeU32Buffer(2*this.numSyms),this.increment=+h||r,this.max_prob=+f||e,console.assert(this.max_prob+(this.increment-1)<=65535),console.assert(s<=65535);var a;for(a=0;a<s;a++)this.tree[this.numSyms+a]=1<<i|0<<n;this.tree[this.numSyms+a]=0<<i|this.increment<<n,this._sumTree()};return h.factory=function(e,t,r){return function(o){return new h(e,o,t,r)}},h.prototype.clone=function(){var e,t=new h(this.coder,this.size,this.max_prob,this.increment);for(e=1;e<this.tree.length;e++)t.tree[e]=this.tree[e];return t},h.prototype.encode=function(e){var t=this.numSyms+e,r=this.tree[t],f=s,h=n,a=this.increment<<n;0===(r&s)?(this.encode(this.numSyms-1),f=o,a-=1<<i,h=i):e===this.numSyms-1&&(this.tree[1]&o)>>>i===1&&(a=-this.tree[t]);for(var u=0;t>1;){var c=1&t,d=t>>>1;c&&(u+=this.tree[2*d]),this.tree[t]+=a,t=d}var p=this.tree[1];this.tree[1]+=a,r=(r&f)>>>h,u=(u&f)>>>h,p=(p&f)>>>h,this.coder.encodeFreq(r,u,p),(this.tree[1]&s)>>>n>=this.max_prob&&this._rescale()},h.prototype._decode=function(e){var t=s,r=n,f=this.increment<<n;e&&(t=o,f-=1<<i,r=i);for(var h=(this.tree[1]&t)>>>r,a=this.coder.decodeCulFreq(h),u=1,c=0;u<this.numSyms;){this.tree[u]+=f;var d=(this.tree[2*u]&t)>>>r;u*=2,a-c>=d&&(c+=d,u++)}var p=u-this.numSyms,l=(this.tree[u]&t)>>>r;if(this.tree[u]+=f,this.coder.decodeUpdate(l,c,h),p===this.numSyms-1&&(this.tree[1]&o)>>>i===1)for(f=-this.tree[u];u>=1;)this.tree[u]+=f,u>>>=1;return(this.tree[1]&s)>>>n>=this.max_prob&&this._rescale(),p},h.prototype.decode=function(){var e=this._decode(!1);return e===this.numSyms-1&&(e=this._decode(!0)),e},h.prototype._rescale=function(){var e,t,r=!0;for(e=0;e<this.numSyms-1;e++)t=this.tree[this.numSyms+e],0===(t&o)?(t=(t&f)>>>1,0===t&&(t=1<<i,r=!1),this.tree[this.numSyms+e]=t):r=!1;t=this.tree[this.numSyms+e],t=(t&f)>>>1,r?t=0:0===t&&(t=1<<n),this.tree[this.numSyms+e]=t,this._sumTree()},h.prototype._sumTree=function(){var e;for(e=this.numSyms-1;e>0;e--)this.tree[e]=this.tree[2*e]+this.tree[2*e+1]},h}(),n=function(){var e=function(e,r,o,i){var s,n=t.fls(e-1);for(this.extraStates=+r||0,this.lgDistanceModel=o(1+n+r),this.distanceModel=[],s=2;s<=n;s++){var f=s-1;this.distanceModel[s]=i(1<<f)}};return e.prototype.encode=function(e){if(e<2)return void this.lgDistanceModel.encode(e+this.extraStates);var r=t.fls(e);console.assert(e&1<<r-1),console.assert(r>=2),this.lgDistanceModel.encode(r+this.extraStates);var o=e&(1<<r-1)-1;this.distanceModel[r].encode(o)},e.prototype.decode=function(){var e=this.lgDistanceModel.decode()-this.extraStates;if(e<2)return e;var t=this.distanceModel[e].decode();return(1<<e-1)+t},e}(),f=function(){var e=function(e,r){this.bitstream=e,this.bits=t.fls(r-1)};return e.factory=function(t){return function(r){return new e(t,r)}},e.prototype.encode=function(e){var t;for(t=this.bits-1;t>=0;t--){var r=e>>>t&1;this.bitstream.writeBit(r)}},e.prototype.decode=function(){var e,t=0;for(e=this.bits-1;e>=0;e--)t<<=1,this.bitstream.readBit()&&t++;return t},e}(),h=65280,a=256,u=Object.create(null);return u.enc=t.compressFileHelper(function(e,u,c,d,p){var l=new o(u);l.encodeStart(p,1);var m=9;"number"==typeof d&&d>=1&&d<=9&&(m=d),l.encodeByte(m);var y=m<=5;m*=1e5;var v,b,w,B,S,g,E=t.makeU8Buffer(m),k=function(){var t;for(t=0;t<m;){var r=e.readByte();if(r<0)break;E[t++]=r}return t},_=t.makeU8Buffer(m),U=t.makeS32Buffer(m),T=t.makeU8Buffer(256),F=f.factory(l),M=new n(m,0,F,F);do{if(v=k(),0===v)break;v===E.length?(l.encodeFreq(1,0,3),b=E):(l.encodeFreq(1,1,3),M.encode(v),b=E.subarray(0,v)),B=r.bwtransform(b,_,U,v,256),M.encode(B);var z=t.makeU16Buffer(512);for(S=0;S<v;S++)w=_[S],z[256+w]=1;for(S=255;S>0;S--)z[S]=z[2*S]+z[2*S+1];for(z[0]=1,S=1;S<512;S++){var O=S>>>1,C=1<<9-t.fls(S);if(0===z[O]||z[O]===2*C);else if(S>=256)l.encodeBit(z[S]);else{var N=z[S];N=0===N?0:N===C?2:1,l.encodeFreq(1,N,3)}}var P=0;for(S=0;S<256;S++)z[256+S]&&(T[P++]=S);for(z=null,S=0;S<v;S++){for(w=_[S],g=0;g<P&&T[g]!==w;g++);for(console.assert(g<P),_[S]=g;g>0;g--)T[g]=T[g-1];T[0]=w}var q=new s(l,P+1,h,a);y&&(q=new i(l,P+1));var x=0,j=function(){for(;0!==x;)1&x?(q.encode(0),x-=1):(q.encode(1),x-=2),x>>>=1};for(S=0;S<v;S++)w=_[S],0===w?x++:(j(),q.encode(w+1),x=0);j()}while(v===E.length);l.encodeFreq(1,2,3),l.encodeFinish()}),u.dec=t.decompressFileHelper(function(e,u){var c=new o(e);c.decodeStart(!0);var d=c.decodeByte();console.assert(d>=1&&d<=9);var p=d<=5;d*=1e5;for(var l,m,y,v,b,w=t.makeU8Buffer(d),B=t.makeU8Buffer(d),S=t.makeS32Buffer(d),g=t.makeU8Buffer(256),E=f.factory(c),k=new n(d,0,E,E);;){var _=c.decodeCulFreq(3);if(c.decodeUpdate(1,_,3),0===_)m=d,l=w;else if(1===_)m=k.decode(),l=w.subarray(0,m);else if(2===_)break;var U=k.decode(),T=t.makeU16Buffer(512);for(T[0]=1,y=1;y<512;y++){var F=y>>>1,M=1<<9-t.fls(y);if(0===T[F]||T[F]===2*M)T[y]=T[F]>>>1;else if(y>=256)T[y]=c.decodeBit();else{var z=c.decodeCulFreq(3);c.decodeUpdate(1,z,3),T[y]=2===z?M:z}}var O=0;for(y=0;y<256;y++)T[256+y]&&(g[O++]=y);T=null;var C=new s(c,O+1,h,a);p&&(C=new i(c,O+1,(!0)));var N=1;for(y=0;y<m;)if(b=C.decode(),0===b){for(v=0;v<N;v++)l[y++]=0;N*=2}else if(1===b){for(v=0;v<N;v++)l[y++]=0,l[y++]=0;N*=2}else N=1,l[y++]=b-1;for(y=0;y<m;y++){for(v=l[y],l[y]=b=g[v];v>0;v--)g[v]=g[v-1];g[0]=b}r.unbwtransform(w,B,S,m,U),u.write(B,0,m)}c.decodeFinish()}),u}();